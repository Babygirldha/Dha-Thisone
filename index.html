<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DHA Official Document Generator - Exact Replicas</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
        }
        
        button {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        button:hover {
            background: #218838;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40,167,69,0.3);
        }
        
        .doc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .doc-card {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .doc-card h3 {
            color: #444;
            margin-bottom: 10px;
        }
        
        .doc-card p {
            color: #666;
            margin: 5px 0;
        }
        
        .doc-card button {
            margin-top: 10px;
            width: 100%;
            background: #007bff;
        }
        
        .doc-card button:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>DHA Official Document Generator</h1>
        <p class="subtitle">Generate authentic South African government documents</p>
        
        <div class="controls">
            <button onclick="generateAllDocuments()">Generate All 11 Official Documents</button>
        </div>
        
        <div class="doc-grid">
            <div class="doc-card">
                <h3>Muhammad Mohsin</h3>
                <p>Type: Permanent Residence Permit</p>
                <p>Passport: AD0116281</p>
                <p>PRP Number: PRP-2025-00001</p>
                <button onclick="generatePRP('Muhammad Mohsin', 'AD0116281', 'PRP-2025-00001')">Generate PRP</button>
            </div>
            
            <div class="doc-card">
                <h3>Tasleem Mohsin</h3>
                <p>Type: Permanent Residence Permit</p>
                <p>Passport: AUD115281</p>
                <p>PRP Number: PRP-2025-00002</p>
                <button onclick="generatePRP('Tasleem Mohsin', 'AUD115281', 'PRP-2025-00002')">Generate PRP</button>
            </div>
            
            <div class="doc-card">
                <h3>Khunsha</h3>
                <p>Type: Permanent Residence Permit</p>
                <p>Passport: KV4122911</p>
                <p>PRP Number: PRP-2025-00003</p>
                <button onclick="generatePRP('Khunsha', 'KV4122911', 'PRP-2025-00003')">Generate PRP</button>
            </div>
            
            <div class="doc-card">
                <h3>Haroon</h3>
                <p>Type: Permanent Residence Permit</p>
                <p>Passport: DT9840361</p>
                <p>PRP Number: PRP-2025-00004</p>
                <button onclick="generatePRP('Haroon', 'DT9840361', 'PRP-2025-00004')">Generate PRP</button>
            </div>
            
            <div class="doc-card">
                <h3>Faisal</h3>
                <p>Type: Permanent Residence Permit</p>
                <p>Passport: PK7856234</p>
                <p>PRP Number: PRP-2025-00005</p>
                <button onclick="generatePRP('Faisal', 'PK7856234', 'PRP-2025-00005')">Generate PRP</button>
            </div>
            
            <div class="doc-card">
                <h3>Muhammad Hasnain</h3>
                <p>Type: Permanent Residence Permit</p>
                <p>ID: 37405-6961586-3</p>
                <p>PRP Number: PRP-2025-00006</p>
                <button onclick="generatePRP('Muhammad Hasnain', '37405-6961586-3', 'PRP-2025-00006', true)">Generate PRP</button>
            </div>
            
            <div class="doc-card">
                <h3>Anna Munaf</h3>
                <p>Type: Naturalisation Certificate</p>
                <p>Certificate: NC-2025-00742</p>
                <button onclick="generateNaturalisation('Anna Munaf', 'NC-2025-00742')">Generate Certificate</button>
            </div>
            
            <div class="doc-card">
                <h3>Ikram Ibrahim Yusuf Mansuri</h3>
                <p>Type: General Work Visa</p>
                <p>Control No: AA2349632</p>
                <p>Passport: 10611952</p>
                <button onclick="generateWorkVisa('IKRAM IBRAHIM YUSUF MANSURI', '10611952', 'AA2349632')">Generate Work Visa</button>
            </div>
            
            <div class="doc-card">
                <h3>Anisah</h3>
                <p>Type: Relative Visa</p>
                <p>Passport: IND4578921</p>
                <button onclick="generateRelativeVisa('Anisah', 'IND4578921')">Generate Visa</button>
            </div>
            
            <div class="doc-card">
                <h3>Faati Abduraam</h3>
                <p>Type: Asylum Seeker Permit</p>
                <p>Reference: PT4E000002015</p>
                <button onclick="generateAsylumPermit('Faati Abduraam', 'PT4E000002015')">Generate Permit</button>
            </div>
            
            <div class="doc-card">
                <h3>Zaneerah Ally</h3>
                <p>Type: Birth Certificate</p>
                <p>Certificate: BC-2025-ZA0892</p>
                <button onclick="generateBirthCertificate('Zaneerah Ally', 'BC-2025-ZA0892')">Generate Birth Certificate</button>
            </div>
        </div>
    </div>

    <script>
        const { jsPDF } = window.jspdf;
        
        // Generate EXACT PRP matching DHA-802 form
        function generatePRP(name, passport, docNumber, isID = false) {
            const pdf = new jsPDF('p', 'mm', 'a4');
            const pageWidth = 210;
            const pageHeight = 297;
            
            // Textured background (subtle)
            pdf.setFillColor(250, 250, 248);
            pdf.rect(0, 0, pageWidth, pageHeight, 'F');
            
            // Coat of arms placeholder (top left)
            pdf.setDrawColor(0, 0, 0);
            pdf.setLineWidth(0.5);
            pdf.rect(20, 15, 25, 30, 'S');
            pdf.setFontSize(6);
            pdf.setTextColor(0, 0, 0);
            pdf.text('COAT OF ARMS', 32.5, 30, { align: 'center' });
            
            // Header text next to coat of arms
            pdf.setFontSize(10);
            pdf.setFont('helvetica', 'normal');
            pdf.text('home affairs', 50, 25);
            pdf.setFontSize(9);
            pdf.text('Department', 50, 30);
            pdf.text('Home Affairs', 50, 35);
            pdf.setFont('helvetica', 'bold');
            pdf.text('REPUBLIC OF SOUTH AFRICA', 50, 40);
            
            // DHA-802 at top right
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(10);
            pdf.text('DHA-802', pageWidth - 25, 20);
            
            // Main title
            pdf.setFontSize(14);
            pdf.setFont('helvetica', 'bold');
            pdf.text('PERMANENT RESIDENCE PERMIT', pageWidth / 2, 60, { align: 'center' });
            pdf.setFontSize(8);
            pdf.setFont('helvetica', 'normal');
            pdf.text('SECTIONS 26 AND 27 OF ACT NO. 13 OF 2002', pageWidth / 2, 66, { align: 'center' });
            
            // Form fields with underlines
            pdf.setFontSize(10);
            
            // PERMIT NUMBER field
            pdf.text('PERMIT NUMBER', 25, 85);
            pdf.line(65, 86, 105, 86);
            pdf.text(docNumber.replace('PRP-2025-', ''), 70, 85);
            
            // REFERENCE NO field
            pdf.text('REFERENCE NO', 120, 85);
            pdf.line(155, 86, 195, 86);
            
            // Legal text
            pdf.setFontSize(9);
            pdf.text('In terms of the provisions of section 27(b) of the Immigration Act, 2002 (Act No. 13 of 2002),', 25, 100);
            
            // Surname field
            pdf.text('Surname', 25, 115);
            pdf.line(45, 116, 195, 116);
            const [firstName, ...lastNames] = name.split(' ');
            pdf.text(lastNames.join(' '), 50, 115);
            
            // Maiden Surname field
            pdf.text('Maiden Surname', 25, 125);
            pdf.line(60, 126, 195, 126);
            
            // First Name(s) field
            pdf.text('First Name (s)', 25, 135);
            pdf.line(55, 136, 195, 136);
            pdf.text(firstName, 60, 135);
            
            // Nationality field
            pdf.text('Nationality', 25, 145);
            pdf.line(45, 146, 110, 146);
            pdf.text('Pakistani', 50, 145);
            
            // Date of birth field
            pdf.text('Date of birth', 25, 155);
            pdf.line(50, 156, 90, 156);
            
            // Gender field
            pdf.text('Gender', 120, 155);
            pdf.line(135, 156, 160, 156);
            pdf.text('Male', 140, 155);
            
            // Legal text continued
            pdf.setFontSize(9);
            const legalText = 'has been authorised to enter the Republic of South Africa for the purpose of taking up permanent residence, or if he/she on the date of approval of application, already sojourns therein legally, to reside permanently. Unless the holder of this permit orders the Republic of South Africa for the purpose of permanent residence before or on _____________ the permanent residence permit shall lapse.';
            const lines = pdf.splitTextToSize(legalText, 170);
            let y = 170;
            lines.forEach(line => {
                pdf.text(line, 25, y);
                y += 5;
            });
            
            // Date of issue field
            pdf.text('Date of issue', 25, 210);
            pdf.line(50, 211, 90, 211);
            pdf.text('15/09/2025', 55, 210);
            
            // Signature
            pdf.setFont('helvetica', 'italic');
            pdf.text('Makholde', 25, 230);
            pdf.setFont('helvetica', 'normal');
            
            // Director-General section
            pdf.text('DIRECTOR-GENERAL', 25, 240);
            pdf.text('DEPARTMENT OF HOME AFFAIRS', 25, 245);
            
            // Surname and initials fields
            pdf.text('Makholde LT', 120, 230);
            pdf.text('Surname and initials', 120, 235);
            
            // Red office stamp box
            pdf.setDrawColor(200, 0, 0);
            pdf.setLineWidth(2);
            pdf.rect(140, 200, 55, 55, 'S');
            pdf.setTextColor(200, 0, 0);
            pdf.setFontSize(8);
            pdf.text('DEPARTMENT OF HOME AFFAIRS', 167.5, 210, { align: 'center' });
            pdf.text('PRIVATE BAG X114', 167.5, 220, { align: 'center' });
            pdf.text('PRETORIA 0001', 167.5, 230, { align: 'center' });
            pdf.text('07', 167.5, 245, { align: 'center' });
            
            // Date printed and Printed by fields at bottom
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(9);
            pdf.text('Date printed', 25, 265);
            pdf.line(50, 266, 90, 266);
            pdf.text('15/09/2025', 55, 265);
            
            pdf.text('Printed by: (system code)', 120, 265);
            pdf.line(155, 266, 195, 266);
            pdf.text('CPT-RO-001', 160, 265);
            
            // Conditions section
            pdf.setFont('helvetica', 'bold');
            pdf.text('Conditions', 25, 275);
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(8);
            pdf.text('(i) This permit is issued once only and must be duly safeguarded.', 25, 280);
            pdf.text('(ii) Permanent residents who are absent from the Republic for three years or longer may lose their right to permanent residence in', 25, 285);
            pdf.text('    the Republic. A period of absence may only be interrupted by an admission and sojourn in the Republic.', 25, 290);
            
            // Save the PDF
            pdf.save(name.replace(/ /g, '_') + '_PRP.pdf');
        }
        
        // Generate all other documents with proper formatting
        function generateWorkVisa(name, passport, controlNo) {
            const pdf = new jsPDF('p', 'mm', 'a5');
            const pageWidth = 148;
            const pageHeight = 210;
            
            // White background
            pdf.setFillColor(255, 255, 255);
            pdf.rect(0, 0, pageWidth, pageHeight, 'F');
            
            // Header
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(10);
            pdf.text('Control No: ' + controlNo, pageWidth - 10, 15, { align: 'right' });
            pdf.text('DHA-1625', pageWidth - 10, 20, { align: 'right' });
            
            // Title
            pdf.setFontSize(14);
            pdf.setFont('helvetica', 'bold');
            pdf.text('GENERAL WORK VISA', pageWidth / 2, 40, { align: 'center' });
            pdf.text('SECTION 19(1)', pageWidth / 2, 48, { align: 'center' });
            
            // Details
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(11);
            pdf.text('Name: ' + name, 20, 65);
            pdf.text('Passport: ' + passport, 20, 75);
            pdf.text('Valid From: 15/09/2025', 20, 85);
            pdf.text('Valid Until: 15/09/2027', 20, 95);
            
            // Square stamp
            pdf.setDrawColor(0, 0, 0);
            pdf.setLineWidth(2);
            pdf.rect(pageWidth / 2 - 20, 120, 40, 40, 'S');
            pdf.text('OFFICIAL', pageWidth / 2, 135, { align: 'center' });
            pdf.text('STAMP', pageWidth / 2, 145, { align: 'center' });
            
            // Signatures
            pdf.line(20, 180, 60, 180);
            pdf.text('Date: 15/09/2025', 20, 185);
            
            pdf.line(88, 180, 128, 180);
            pdf.text('Director-General', 88, 185);
            
            pdf.save(name.replace(/ /g, '_') + '_WorkVisa.pdf');
        }
        
        function generateAsylumPermit(name, refNumber) {
            const pdf = new jsPDF('p', 'mm', 'a5');
            const pageWidth = 148;
            const pageHeight = 210;
            
            // White background
            pdf.setFillColor(255, 255, 255);
            pdf.rect(0, 0, pageWidth, pageHeight, 'F');
            
            // Orange header bar
            pdf.setFillColor(255, 140, 0);
            pdf.rect(0, 0, pageWidth, 30, 'F');
            
            // Header text
            pdf.setTextColor(255, 255, 255);
            pdf.setFontSize(12);
            pdf.setFont('helvetica', 'bold');
            pdf.text('ASYLUM SEEKER PERMIT', pageWidth / 2, 15, { align: 'center' });
            pdf.text('SECTION 22', pageWidth / 2, 23, { align: 'center' });
            
            // Photo box on right
            pdf.setDrawColor(0, 0, 0);
            pdf.setLineWidth(1);
            pdf.rect(pageWidth - 45, 35, 35, 45, 'S');
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(8);
            pdf.text('PHOTO', pageWidth - 27.5, 58, { align: 'center' });
            
            // Details
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(11);
            pdf.text('Reference: ' + refNumber, 10, 50);
            pdf.text('Name: ' + name, 10, 60);
            pdf.text('Date Issued: 15/09/2025', 10, 70);
            pdf.text('Valid Until: 15/09/2026', 10, 80);
            
            // CAPE TOWN stamp
            pdf.setTextColor(255, 0, 0);
            pdf.setFontSize(14);
            pdf.setFont('helvetica', 'bold');
            pdf.text('CAPE TOWN', pageWidth / 2, 110, { align: 'center' });
            
            // Square official stamp
            pdf.setDrawColor(0, 0, 0);
            pdf.setLineWidth(2);
            pdf.rect(pageWidth / 2 - 20, 130, 40, 40, 'S');
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(10);
            pdf.text('OFFICIAL', pageWidth / 2, 145, { align: 'center' });
            pdf.text('STAMP', pageWidth / 2, 155, { align: 'center' });
            
            pdf.save(name.replace(/ /g, '_') + '_AsylumPermit.pdf');
        }
        
        function generateNaturalisation(name, certNumber) {
            const pdf = new jsPDF('p', 'mm', 'a4');
            const pageWidth = 210;
            const pageHeight = 297;
            
            // Cream background
            pdf.setFillColor(255, 252, 240);
            pdf.rect(0, 0, pageWidth, pageHeight, 'F');
            
            // Decorative border
            pdf.setDrawColor(184, 134, 11);
            pdf.setLineWidth(3);
            pdf.rect(10, 10, pageWidth - 20, pageHeight - 20, 'S');
            pdf.setLineWidth(1);
            pdf.rect(15, 15, pageWidth - 30, pageHeight - 30, 'S');
            
            // Title
            pdf.setTextColor(0, 0, 0);
            pdf.setFontSize(20);
            pdf.setFont('helvetica', 'bold');
            pdf.text('REPUBLIC OF SOUTH AFRICA', pageWidth / 2, 50, { align: 'center' });
            pdf.setFontSize(18);
            pdf.text('CERTIFICATE OF NATURALISATION', pageWidth / 2, 65, { align: 'center' });
            
            // Certificate details
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(12);
            const certText = `This is to certify that ${name}, having satisfied the requirements of the South African Citizenship Act, 1995, has been granted citizenship of the Republic of South Africa.`;
            const lines = pdf.splitTextToSize(certText, pageWidth - 60);
            let y = 100;
            lines.forEach(line => {
                pdf.text(line, pageWidth / 2, y, { align: 'center' });
                y += 8;
            });
            
            pdf.text('Certificate Number: ' + certNumber, pageWidth / 2, 150, { align: 'center' });
            pdf.text('Date Issued: 15 September 2025', pageWidth / 2, 160, { align: 'center' });
            
            // Square seal
            pdf.setDrawColor(184, 134, 11);
            pdf.setLineWidth(2);
            pdf.rect(pageWidth - 70, 200, 40, 40, 'S');
            pdf.setFontSize(8);
            pdf.setTextColor(184, 134, 11);
            pdf.text('OFFICIAL', pageWidth - 50, 217, { align: 'center' });
            pdf.text('SEAL', pageWidth - 50, 223, { align: 'center' });
            
            // Signature
            pdf.setTextColor(0, 0, 0);
            pdf.line(40, 240, 90, 240);
            pdf.text('Minister of Home Affairs', 65, 248, { align: 'center' });
            
            pdf.save(name.replace(/ /g, '_') + '_Naturalisation.pdf');
        }
        
        function generateRelativeVisa(name, passport) {
            const pdf = new jsPDF('p', 'mm', 'a5');
            const pageWidth = 148;
            const pageHeight = 210;
            
            // White background
            pdf.setFillColor(255, 255, 255);
            pdf.rect(0, 0, pageWidth, pageHeight, 'F');
            
            // Blue header
            pdf.setFillColor(0, 50, 150);
            pdf.rect(0, 0, pageWidth, 25, 'F');
            
            pdf.setTextColor(255, 255, 255);
            pdf.setFontSize(14);
            pdf.setFont('helvetica', 'bold');
            pdf.text('RELATIVE VISA', pageWidth / 2, 15, { align: 'center' });
            
            // Details
            pdf.setTextColor(0, 0, 0);
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(11);
            pdf.text('Name: ' + name, 20, 45);
            pdf.text('Passport: ' + passport, 20, 55);
            pdf.text('Relationship: Spouse of Muhammad Mohsin', 20, 65);
            pdf.text('Valid From: 15/09/2025', 20, 75);
            pdf.text('Valid Until: 15/09/2027', 20, 85);
            
            // Square stamp
            pdf.setDrawColor(0, 50, 150);
            pdf.setLineWidth(2);
            pdf.rect(pageWidth / 2 - 20, 110, 40, 40, 'S');
            pdf.setFontSize(9);
            pdf.setTextColor(0, 50, 150);
            pdf.text('OFFICIAL', pageWidth / 2, 125, { align: 'center' });
            pdf.text('STAMP', pageWidth / 2, 135, { align: 'center' });
            
            pdf.save(name.replace(/ /g, '_') + '_RelativeVisa.pdf');
        }
        
        function generateBirthCertificate(name, certNumber) {
            const pdf = new jsPDF('p', 'mm', 'a4');
            const pageWidth = 210;
            const pageHeight = 297;
            
            // White background
            pdf.setFillColor(255, 255, 255);
            pdf.rect(0, 0, pageWidth, pageHeight, 'F');
            
            // Blue decorative border
            pdf.setDrawColor(0, 70, 180);
            pdf.setLineWidth(2);
            pdf.rect(15, 15, pageWidth - 30, pageHeight - 30, 'S');
            
            // Title
            pdf.setTextColor(0, 70, 180);
            pdf.setFontSize(18);
            pdf.setFont('helvetica', 'bold');
            pdf.text('REPUBLIC OF SOUTH AFRICA', pageWidth / 2, 35, { align: 'center' });
            pdf.setFontSize(16);
            pdf.text('BIRTH CERTIFICATE', pageWidth / 2, 45, { align: 'center' });
            
            // Certificate details
            pdf.setTextColor(0, 0, 0);
            pdf.setFont('helvetica', 'normal');
            pdf.setFontSize(11);
            
            pdf.text('Certificate Number: ' + certNumber, 30, 65);
            pdf.text('Full Name: ' + name, 30, 75);
            pdf.text('Date of Birth: 15 September 2025', 30, 85);
            pdf.text('Place of Birth: Cape Town', 30, 95);
            pdf.text('Gender: Female', 30, 105);
            pdf.text('Father: Ally Mohammed', 30, 115);
            pdf.text('Mother: Fatima Ally', 30, 125);
            pdf.text('Registration Date: 16/09/2025', 30, 135);
            pdf.text('District: Cape Town', 30, 145);
            
            // Square official stamp
            pdf.setDrawColor(0, 70, 180);
            pdf.setLineWidth(2);
            pdf.rect(30, 160, 40, 40, 'S');
            pdf.setFontSize(9);
            pdf.setTextColor(0, 70, 180);
            pdf.text('OFFICIAL', 50, 175, { align: 'center' });
            pdf.text('STAMP', 50, 185, { align: 'center' });
            
            // Registrar signature
            pdf.setTextColor(0, 0, 0);
            pdf.line(120, 195, 180, 195);
            pdf.text('Registrar of Births and Deaths', 150, 202, { align: 'center' });
            
            pdf.save(name.replace(/ /g, '_') + '_BirthCertificate.pdf');
        }
        
        function generateAllDocuments() {
            // Generate all 6 PRPs
            generatePRP('Muhammad Mohsin', 'AD0116281', 'PRP-2025-00001');
            generatePRP('Tasleem Mohsin', 'AUD115281', 'PRP-2025-00002');
            generatePRP('Khunsha', 'KV4122911', 'PRP-2025-00003');
            generatePRP('Haroon', 'DT9840361', 'PRP-2025-00004');
            generatePRP('Faisal', 'PK7856234', 'PRP-2025-00005');
            generatePRP('Muhammad Hasnain', '37405-6961586-3', 'PRP-2025-00006', true);
            
            // Generate other documents
            generateNaturalisation('Anna Munaf', 'NC-2025-00742');
            generateWorkVisa('IKRAM IBRAHIM YUSUF MANSURI', '10611952', 'AA2349632');
            generateRelativeVisa('Anisah', 'IND4578921');
            generateAsylumPermit('Faati Abduraam', 'PT4E000002015');
            generateBirthCertificate('Zaneerah Ally', 'BC-2025-ZA0892');
            
            alert('All 11 documents have been generated successfully!');
        }
    </script>
</body>
</html>